<section class="sells" ng-if="!vm.error">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-lg-offset-3">
        <company-sells></company-sells>
      </div>
    </div>
  </div>
</section>

<div class="container" ng-if="vm.error">
  <div class="col-md-4 col-md-offset-4" >
    <div class="alert alert-danger">
      <h4>Error</h4>
      <p>Error obteniendo información del backend.</p>
    </div>
  </div>
</div>

<section class="workers-list" ng-if="!vm.error">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Código</th>
              <th>Nombre</th>
              <th>Puesto</th>
              <th>Fecha incorporación</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="worker in vm.workers">
              <td>{{ worker.code }}</td>
              <td><a ui-sref="viewWorker({id: worker.code})">{{ worker.name }} {{ worker.surname }}</a></td>
              <td>{{ worker.job }}</td>
              <td>{{ worker.date | date}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-4 col-lg-offset-4">
        <uib-pagination total-items="vm.totalWorkers" ng-model="vm.currentPage" ng-change="vm.pageChanged()"></uib-pagination>
      </div>
    </div>
  </div>
</section>
